# JVideoAssist
#### 1. 简介

基于Android的平板客户端APP，和基于Linux主机的服务端开发，目的是辅助高空机械进行远程可视化作业。

#### 2. 功能需求

- 平板客户端app
  - 实现客户端实时显示远程相机的监控画面，支持4个通道的相机的显示
  - 实现基本的语音交互，达到利用简单语音识别技术，完成对设备的控制。
  - 支持自定义多个画面的显示，参考海康的监控软件设计
  - 灵活配置，可视化配置管理
- Linux服务端
  - 采集USB相机的图像数据
  - 将图像数据通过图片或者多媒体流的形式分发给客户端
  - 多个相机数据的管理
  - 流媒体数据推流和拉流
  - 服务端程序的部署平台

#### 3. 代码结构说明

- JVideoAssist 作为Android客户端的主项目文件夹，可以使用Android Studio打开此工程
- Doc 项目开发过程日志，主要记录了技术调研，开发过程中碰到的问题的解决，大部分是通过网上找到自己的需要和问题解决方案，然后不同尝试，修正。
- JVideoServer作为流媒体服务端的主项目文件夹,目前是一些部署运行脚本

#### 4. 技术方案的实现

###### 1）第一套

- client 由一个主activity+多个fragment+viewpager+recyleview+对应的adapter进行窗口布局设计
- 网络视频流采用webview来实时显示，默认支持URL的网络流式数据，一个相机画面对应一个webview，嵌套在recycleview的内容主控件内
- 处理好数据的刷新，画面的切割，配置的加载
- server端，主要依靠开源的多媒体服务器mjpeg-streamer, 部署在Linux主机上面，配置对应的相机节点和图像参数，如/dev/video0, img_width,img_height,fps等。
- client和server这种等同于自己利用socket通信，进行图片压缩处理后，进行远程网络传输，再在客户端进行一帧帧的渲染。
- 测试了主窗口同时显示1副，2副，4副的效果，延时情况。2副以下画面同时显示，延时比较低。

###### 2） 第二套

- 客户端视频显示画面由开源库NodeMediaPlayer-android提供的NodePlayer来实现.
- 界面布局设计是一个recycleview显示4画面模式,一个recycleview显示全屏模式
- 流媒体播放经过测试支持RTMP的流媒体
- 服务端部署采用了SRS的简易RTMP搭建方案,以及直接基于FFMpeg推流形成的局域网网络流
- 语音识别直接集成科大讯飞的SDK, 根据官方的demo直接调用UI, 显示识别的结果.



#### 5. 备注

- 前期技术学习和预先开发已经告一段落, 2021年03月08日
- 准备基于前期的经验,将项目重构一个版本, 参考其他的开源项目设计,优化项目结构, 直接面向正式的需求原型设计

感谢，加油每一天。